<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Quiz EMC</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background: #f4f4f4;
        padding: 20px;
    }
    #quiz-container {
        background: white;
        padding: 20px;
        border-radius: 10px;
        max-width: 600px;
        margin: auto;
        box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    button {
        padding: 10px 15px;
        margin-top: 10px;
        border: none;
        border-radius: 5px;
        background: #007bff;
        color: white;
        cursor: pointer;
        font-size: 16px;
    }
    button:hover {
        background: #0056b3;
    }
    .hide {
        display: none;
    }
</style>
</head>
<body>

<div id="quiz-container">
    <h2>Quiz : L'Ã‰tat et les Religions en France</h2>
    <div id="question"></div>
    <div id="choices"></div>
    <div id="feedback"></div>
    <button id="nextBtn" class="hide">Question suivante</button>
    <div id="result" class="hide"></div>
</div>

<script>
const questions = [
    {
        question: "1ï¸âƒ£ Vers quelle date l'Ã‰tat et l'Ã‰glise se sÃ©parent-ils ?",
        choices: ["1789", "1905", "1870"],
        correct: "1905"
    },
    {
        question: "2ï¸âƒ£ Ã€ partir de quelle date la 3áµ‰ RÃ©publique est-elle mise en place ?",
        choices: ["4 septembre 1870", "14 juillet 1880", "1905"],
        correct: "4 septembre 1870"
    },
    {
        question: "3ï¸âƒ£ Jusqu'Ã  quelle date dure le rÃ©gime des cultes en France ?",
        choices: ["1801", "1905", "1792"],
        correct: "1905"
    },
    {
        question: "4ï¸âƒ£ Qu'est-ce que la Constitution du clergÃ© ?",
        choices: ["Une fÃªte religieuse", "Une rupture avec Rome", "Un traitÃ© avec NapolÃ©on"],
        correct: "Une rupture avec Rome"
    },
    {
        question: "5ï¸âƒ£ Jusquâ€™Ã  quand dure lâ€™Ancien RÃ©gime (monarchie + droit divin) ?",
        choices: ["1848", "1789", "1914"],
        correct: "1789"
    },
    {
        question: "6ï¸âƒ£ Quelle loi rend lâ€™Ã©cole gratuite, obligatoire et laÃ¯que ?",
        choices: ["La loi de 1905", "La loi Jules Ferry", "Le Concordat"],
        correct: "La loi Jules Ferry"
    },
    {
        question: "7ï¸âƒ£ Quâ€™est-ce qui devient obligatoire avant le mariage religieux en 1884 ?",
        choices: ["Le baptÃªme", "Le mariage civil", "Un certificat de foi"],
        correct: "Le mariage civil"
    },
    {
        question: "8ï¸âƒ£ Par quoi NapolÃ©on complÃ¨te-t-il le Concordat en 1802 ?",
        choices: ["Les Cahiers bleus", "Les Articles Organiques", "Le Code civil"],
        correct: "Les Articles Organiques"
    },
    {
        question: "9ï¸âƒ£ En quoi consistent les Articles Organiques ?",
        choices: ["Ils suppriment les cultes", "Ils prÃ©cisent comment les cultes fonctionnent en France", "Ils interdisent la religion"],
        correct: "Ils prÃ©cisent comment les cultes fonctionnent en France"
    }
];

let currentIndex = 0;
let score = 0;

const questionDiv = document.getElementById("question");
const choicesDiv = document.getElementById("choices");
const feedbackDiv = document.getElementById("feedback");
const nextBtn = document.getElementById("nextBtn");
const resultDiv = document.getElementById("result");

function loadQuestion() {
    const current = questions[currentIndex];
    questionDiv.textContent = current.question;

    choicesDiv.innerHTML = "";
    feedbackDiv.textContent = "";
    nextBtn.classList.add("hide");

    current.choices.forEach(choice => {
        const btn = document.createElement("button");
        btn.textContent = choice;
        btn.onclick = () => checkAnswer(choice);
        choicesDiv.appendChild(btn);
    });
}

function checkAnswer(selected) {
    const correct = questions[currentIndex].correct;

    if (selected === correct) {
        feedbackDiv.textContent = "âœ”ï¸ Bravo ! Bonne rÃ©ponse !";
        score++;
    } else {
        feedbackDiv.textContent = "âŒ Mauvaise rÃ©ponseâ€¦ La bonne rÃ©ponse Ã©tait : " + correct;
    }

    nextBtn.classList.remove("hide");
}

nextBtn.onclick = () => {
    currentIndex++;
    if (currentIndex < questions.length) {
        loadQuestion();
    } else {
        endQuiz();
    }
};

function endQuiz() {
    questionDiv.classList.add("hide");
    choicesDiv.classList.add("hide");
    feedbackDiv.classList.add("hide");
    nextBtn.classList.add("hide");

    resultDiv.classList.remove("hide");

    if (score >= 5) {
        resultDiv.innerHTML = `<h3>ðŸŽ‰ Super ! Tu as obtenu ${score}/${questions.length} !</h3><p>Bravo !</p>`;
    } else {
        resultDiv.innerHTML = `<h3>ðŸ˜… Tu as obtenu ${score}/${questions.length}.</h3><p>Tu peux relire l'affiche, Ã§a t'aidera !</p>`;
    }
}

loadQuestion();
</script>
</body>
</html>
